<!DOCTYPE html>
<html lang="en">
<head>
  <title>Cricket</title>
  <link rel="stylesheet" href="cricket.css">
</head>
<body>
  <h1>Bat Ball Stump Game</h1>
 
  <button class='choice-button 'onclick="computerChoice=generateComputerChoice();

  let resultMsg=getResult('Bat',computerChoice)
  showResult('Bat',computerChoice,resultMsg)
  "><img src="https://static.vecteezy.com/system/resources/thumbnails/016/283/763/small_2x/cricket-bat-cartoon-style-vector.jpg" alt="Bat Image" class="choice-image"></button>


  <button class='choice-button'onclick=" 
   computerChoice=generateComputerChoice(); 
   resultMsg=getResult('Ball',computerChoice)
   showResult('Ball',computerChoice,resultMsg)
  "><img src="https://m.media-amazon.com/images/I/41POwIM+VxL.jpg" alt="ball image" class="choice-image"></button>


  <button class='choice-button ' onclick=" 
  computerChoice=generateComputerChoice();
  resultMsg=getResult('Stump',computerChoice)
  showResult('Stump',computerChoice,resultMsg)
  "><img src="https://www.shutterstock.com/image-vector/cricket-bat-ball-sports-game-600nw-1398182873.jpg" alt="Stump image" class="choice-image">"  </button>

<br>

  
<button onclick="localStorage.clear()
resetScore();
">Reset </button>
  
  <script>
    
    let scoreStr=localStorage.getItem('Score');
    let score;
    resetScore(scoreStr);
    function resetScore(scoreStr){
       score=scoreStr? JSON.parse(scoreStr):{
      win:0,
      lost:0,
      tie:0,};
    
    
    
    score.displayScore=function(){
        return `Won:${score.win},Lost:${score.lost},Tie:${score.tie}`;
      } ;}
   let computerChoice;
   function generateComputerChoice(){
   let randomNumber=Math.random()*3;

  if(randomNumber>0 && randomNumber<=1){
     return 'Bat';
    //console.log('Computer has chosen bat')
  } else if(randomNumber>1 && randomNumber<=2){  return 'Ball';//console.log('Computer has chosen ball')
  } else { return 'Stump';//console.log('Computer has chosen stump')
  }}
   
  function getResult(userMove,computerMove){
    if(userMove==='Bat'){
      if(computerMove==='Ball'){
        score.win++;
      return 'User won';
    } else if(computerMove==='Bat'){
      score.tie++;
      return 'Tie';}
      else{
        score.lost++;
      return 'computer won ';
    }
    }else if(userMove==='Ball'){
      if(computerMove==='Ball'){
        score.tie++;
      return 'Tie';
      } else if(computerMove==='Bat'){
        score.lost++;
      return 'Computer won';}
      else{
        score.win++;
      return 'User won ';
      }
     }else {
      if(computerMove==='Ball'){
        score.lost++;
      return 'computer won';
     } else if(computerMove==='Bat'){
      score.win++;
     return 'User won';}
     else{
      score.tie++;
      return 'Tie ';
    }
   }}

   function showResult(userMove,computerMove,result){
    localStorage.setItem('Score',JSON.stringify(score))
    console.log(score);
    alert(`You have chosen ${userMove}. Computer choice is ${computerChoice} and 
    ${result}

    ${score.displayScore()}`);
   }
  </script>
</body>
</html> 